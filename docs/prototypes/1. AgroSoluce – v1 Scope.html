1. AgroSoluce – v1 Scope (so we don’t overbuild)

Before the TODOs, anchor what v1 really is:

AgroSoluce v1 =

Cooperative Directory

Based on your JSON dataset (Ivory Coast coops, etc.)

Search + filters (country, crop, certifications, volumes)

Buyer Due Diligence Panel

EUDR + child-labor + basic ESG flags

Quick risk profile for a coop

Pilot Matching

Simple “interest” flow: buyer creates a request, system suggests coops

Evidence Hook

Attach ImpactSoluce / ESG score later

Export-ready summary for a buyer

No marketplace, no payments, no AI.

2. AGROSOLUCE_V1_TODOS.md (Cursor-ready)

You can drop this file in your AgroSoluce repo root (or in a /docs folder) and work through it.

# AgroSoluce v1 – Cursor TODOs (Coop Directory + Due Diligence)

> Goal:
> Deliver a **usable v1** of AgroSoluce focused on:
> - Producer/cooperative directory (starting with Ivory Coast cocoa)
> - Buyer-facing due diligence view (EUDR + anti–child-labor flags)
> - Simple buyer request → coop matching
> - Clean integration path to ImpactSoluce / VendorSoluce later


## 0. Repo Baseline

- [ ] Open the AgroSoluce project (or create a new one cloning an existing ERMITS app, e.g. CyberCaution or VendorSoluce).
- [ ] Run:
  ```bash
  npm install
  npm run dev


 Confirm:

App boots

There is at least a Home / Landing page you can re-skin for AgroSoluce.

1. Data Model – Coops & Buyers
1.1 Supabase tables

Create migrations for:

 ag_cooperatives

id (uuid, pk)

name (text)

country (text)

region (text)

commodity (text) – e.g. cocoa, coffee

certifications (text[]) – e.g. Fairtrade, Rainforest Alliance

annual_volume_tons (numeric)

compliance_flags (jsonb) – e.g. { eudr_ready: true, child_labor_risk: "low" }

contact_email (text)

contact_phone (text)

profile_source (text) – e.g. "directory_v1"

 ag_buyer_requests

id (uuid, pk)

buyer_org (text)

buyer_contact_email (text)

target_country (text)

commodity (text)

min_volume_tons (numeric)

max_volume_tons (numeric)

requirements (jsonb) – EUDR, certifications, etc.

status (text) – draft | open | matched | closed

created_at (timestamp)

 ag_request_matches

id (uuid, pk)

request_id (uuid, fk → ag_buyer_requests)

cooperative_id (uuid, fk → ag_cooperatives)

match_score (numeric)

status (text) – suggested | shortlisted | contacted | rejected

1.2 TypeScript models

Create src/domain/agro/types.ts:

export interface Cooperative {
  id: string;
  name: string;
  country: string;
  region?: string;
  commodity: string;
  certifications: string[];
  annualVolumeTons?: number;
  complianceFlags: {
    eudrReady?: boolean;
    childLaborRisk?: 'unknown' | 'low' | 'medium' | 'high';
    otherRisks?: string[];
  };
  contactEmail?: string;
  contactPhone?: string;
  profileSource?: string;
}

export interface BuyerRequest {
  id: string;
  buyerOrg: string;
  buyerContactEmail: string;
  targetCountry: string;
  commodity: string;
  minVolumeTons?: number;
  maxVolumeTons?: number;
  requirements: {
    certifications?: string[];
    eudrRequired?: boolean;
    childLaborZeroTolerance?: boolean;
  };
  status: 'draft' | 'open' | 'matched' | 'closed';
}

2. Cooperative Directory (Core UI)
2.1 Directory page

 Create src/pages/CooperativeDirectory.tsx with:

Search bar (by name)

Filters:

Country

Commodity

Certification(s)

EUDR-ready (yes/no)

Table or card grid:

Name

Country / Region

Commodity

Certifications

EUDR-ready badge (derived from complianceFlags.eudrReady)

Child-labor-risk badge

 Build a hook useCooperatives in src/hooks/useCooperatives.ts:

cooperatives, loading, error

fetchCooperatives(filterParams)

Supabase query on ag_cooperatives

2.2 Initial data import from your JSON

 Write a one-off Node script or a simple React admin page to:

Load your JSON directory (Ivory Coast coops)

Map fields into ag_cooperatives

Insert via Supabase client.

Do not try to build a full ETL pipeline; just get v1 data in.

3. Buyer Request & Matching (v1 Only)
3.1 Buyer request form

 Create page: src/pages/BuyerRequestForm.tsx:

Fields:

Organization name

Contact email

Commodity

Target country

Min volume, max volume (tons)

Checkboxes:

Requires certified suppliers

Requires EUDR-aligned supply

Zero tolerance on child labor

On submit:

Create row in ag_buyer_requests (status = open)

3.2 Matching logic (simple, explicit)

 Add function matchCooperativesToRequest in src/domain/agro/matching.ts:

import { Cooperative, BuyerRequest } from './types';

export function matchCooperativesToRequest(
  request: BuyerRequest,
  coops: Cooperative[]
) {
  return coops
    .filter(c => c.commodity === request.commodity)
    .filter(c => !request.requirements.certifications?.length ||
      request.requirements.certifications.every(req =>
        c.certifications.includes(req)
      )
    )
    .filter(c => !request.requirements.eudrRequired || c.complianceFlags.eudrReady)
    .map(c => ({
      cooperativeId: c.id,
      matchScore: computeScore(request, c),
    }))
    .sort((a, b) => b.matchScore - a.matchScore);
}

function computeScore(request: BuyerRequest, coop: Cooperative): number {
  let score = 0;
  if (coop.country === request.targetCountry) score += 20;
  if (coop.complianceFlags.eudrReady) score += 20;
  if (coop.complianceFlags.childLaborRisk === 'low') score += 20;
  // Add small bonuses for certifications and volume match, etc.
  return score;
}


 On new request creation:

Fetch cooperatives

Run matchCooperativesToRequest

Persist top N matches into ag_request_matches

3.3 Buyer-facing “Match Results” page

 Create src/pages/BuyerMatches.tsx:

Input: requestId from URL

Show:

Request summary

List of matched coops with:

Name, country, certifications

EUDR-ready / child-labor-risk badges

Match score

CTA: Contact cooperative → show contact email/phone.

4. Due Diligence Panel (EUDR + Child Labor)
4.1 Coop detail page

 Create src/pages/CooperativeDetail.tsx:

Basic info (name, region, volume)

Compliance panel:

EUDR status (boolean or “in progress”)

Child labor risk status

Additional notes (manual text field)

4.2 Simple assessment widget

 Add a mini “Due Diligence Summary” section:

- Land-use & deforestation risk: Low / Medium / High
- Child labor risk: Low / Medium / High
- Traceability confidence: Low / Medium / High


 This can be manual inputs managed by AgroSoluce admin for now.

5. Integration Hooks (Future-Proof, Not Heavy)
5.1 ImpactSoluce link placeholder

 On CooperativeDetail, add:

<section>
  <h3>Impact Profile (via ImpactSoluce)</h3>
  <p>Coming soon: ESG & social impact scoring for this cooperative.</p>
</section>


No integration yet; just a clear slot.

5.2 VendorSoluce / ERMITS mentions (text only)

 Add copy on landing page explaining:

VendorSoluce handles vendor risk.

AgroSoluce helps source and profile cooperatives.

ImpactSoluce will expose ESG/impact view.

6. Verification & Cut Line

 Run:

npm run build
npm run preview


 Manually test:

Cooperative listing + filtering

JSON-imported coops show correctly

Buyer creates a request

Matches are generated and visible

Coop detail page shows EUDR/child-labor flags

 When all of the above works, AgroSoluce v1 is “complete enough” to demo to real buyers.